(this["webpackJsonpintugine-assignment"]=this["webpackJsonpintugine-assignment"]||[]).push([[3],{81:function(e,t,a){"use strict";function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}a.d(t,"a",(function(){return n}))},83:function(e,t,a){e.exports={Modal:"Modal_Modal__2KlXx"}},84:function(e,t,a){e.exports={filterPanel:"dashboard_filterPanel__9hAfC",filter:"dashboard_filter__13IEh",text:"dashboard_text__2A-MH",count:"dashboard_count__3xRFK",displayTablesStatus:"dashboard_displayTablesStatus__1kViT",status:"dashboard_status__2MVC_",timeLine:"dashboard_timeLine__3tn-z",logo:"dashboard_logo__1cjXy",dot:"dashboard_dot__SfTEq",dashedLines:"dashboard_dashedLines__nWwGK",statusLables:"dashboard_statusLables__1OSj9",tableParent:"dashboard_tableParent__2WELj"}},85:function(e,t,a){e.exports=a.p+"static/media/destination.85f9fdcc.svg"},86:function(e,t,a){e.exports=a.p+"static/media/warehouse.1f5bfd3e.svg"},87:function(e,t,a){e.exports={loader:"Spinner_loader__1H-Nt",load4:"Spinner_load4__3ULX9"}},88:function(e,t,a){"use strict";a.r(t);var n=a(8),r=a(9),l=a(11),s=a(10),i=a(12),c=a(0),o=a.n(c),u=a(83),d=a.n(u),m=a(41),h=function(e){function t(){return Object(n.a)(this,t),Object(l.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(i.a)(t,e),Object(r.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){return e.show!==this.props.show||e.children!==this.props.children}},{key:"render",value:function(){return o.a.createElement(c.Fragment,null,o.a.createElement(m.a,{show:this.props.show,clicked:this.props.modalClosed}),o.a.createElement("div",{className:d.a.Modal,style:{transform:this.props.show?"translateY(0)":"translateY(-100vh)",opacity:this.props.show?"1":"0"}},this.props.children))}}]),t}(c.Component),f=a(81);function p(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function b(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?p(Object(a),!0).forEach((function(t){Object(f.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):p(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var E=a(84),v=a.n(E),_=a(85),O=a.n(_),g=a(86),j=a.n(g),y=function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,i=new Array(r),c=0;c<r;c++)i[c]=arguments[c];return(a=Object(l.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(i)))).state={filterObject:{DEL:[],INT:[],OOD:[],UND:[],NFI:[]},tableData:null,selected:null,scan:[],filterClick:0,rowClick:0,sort:!0},a.handleFilter=function(e,t){a.setState({tableData:t,selected:e,filterClick:e},(function(){a.handleStatus(a.state.tableData[0].scan,0)}))},a.handleStatus=function(e,t){var n=e.sort((function(e,t){return new Date(t.time)-new Date(e.time)}));a.setState({scan:n})},a.handleSort=function(){var e=[];e=a.state.sort?a.state.tableData.sort((function(e,t){return e.awbno-t.awbno})):a.state.tableData.reverse(),a.setState({sort:!a.state.sort,tableData:e})},a.renderTable=function(){var e=a.state.tableData,t=function(e){var t=new Date(e),a=t.getDate(),n=t.getMonth()+1;return a<10&&(a="0"+a),n<10&&(n="0"+n),a+"/"+n+"/"+t.getFullYear()};return o.a.createElement("div",{className:v.a.tableParent},o.a.createElement("table",null,o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",{onClick:a.handleSort,style:{cursor:"pointer"},title:"sort"},"AWB NUMBER \xa0",a.state.sort?o.a.createElement("span",null,"\u2227"):o.a.createElement("span",null,"\u2228")," "),o.a.createElement("th",null,"TRANSPORTER"),o.a.createElement("th",null,"SOURCE"),o.a.createElement("th",null,"DESTINATION"),o.a.createElement("th",null,"BRAND "),o.a.createElement("th",null,"START DATE"),o.a.createElement("th",null,"ETD "),o.a.createElement("th",null,"STATUS"))),o.a.createElement("tbody",null,e.map((function(e,n){var r={color:"Delivered"===e.current_status?"#74ac2e":"black"};return o.a.createElement("tr",{key:n,onClick:function(){return a.handleStatus(e.scan,n)}},o.a.createElement("td",null,e.awbno),o.a.createElement("td",null," ",e.carrier),o.a.createElement("td",null,e.from),o.a.createElement("td",null,e.to),o.a.createElement("td",null,e.carrier),o.a.createElement("td",null,t(e.pickup_date)),o.a.createElement("td",null,t(e.extra_fields.expected_delivery_date)),o.a.createElement("td",{style:r},e.current_status))})))))},a}return Object(i.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.deliveriesData,a={DEL:[],UND:[],INT:[],OOD:[],NFI:[]};t.length&&t.map((function(e){return a[e.current_status_code]&&a[e.current_status_code].push(e),null})),this.setState({filterObject:b({},a)},(function(){var t=[],a=[];for(var n in e.state.filterObject)t.push(e.state.filterObject[n]),a.push(n);e.handleFilter(0,t[0])}))}},{key:"render",value:function(){var e=this,t=[],a=[];for(var n in this.state.filterObject)t.push(this.state.filterObject[n]),a.push(n);return o.a.createElement(c.Fragment,null,o.a.createElement("div",{className:v.a.filterPanel},t.map((function(t,n){var r={backgroundColor:e.state.filterClick===n?"#2e5bff":"#d5deff",color:e.state.filterClick===n?"#eef3f5":"#2e5bff",cursor:"pointer"};return o.a.createElement("div",{key:n,className:v.a.filter,style:r,onClick:function(){return e.handleFilter(n,t)}},o.a.createElement("div",{className:v.a.text}," ",a[n]),o.a.createElement("div",{className:v.a.count},t.length))}))),o.a.createElement("div",{className:v.a.displayTablesStatus},o.a.createElement("div",{className:v.a.status},o.a.createElement("div",{className:v.a.timeLine},o.a.createElement("div",{className:v.a.logo}," ",o.a.createElement("img",{src:O.a,alt:""})),o.a.createElement("ul",null,this.state.scan.map((function(e,t){var a=new Date(e.time),n=a.getDate(),r=a.getMonth()+1;n<10&&(n="0"+n),r<10&&(r="0"+r);var l=n+"-"+r+"-"+a.getFullYear(),s=a.getUTCMinutes(),i=a.getUTCHours();return i=i+"."+s,o.a.createElement("li",{key:t},o.a.createElement("div",{className:v.a.dot}),o.a.createElement("div",{className:v.a.dashedLines}),o.a.createElement("div",{className:v.a.statusLables},o.a.createElement("div",null,e.location.substr(e.location.indexOf(" ")+1)),o.a.createElement("div",null,l),o.a.createElement("div",null,i)))}))),o.a.createElement("div",{className:v.a.logo}," ",o.a.createElement("img",{src:j.a,alt:""})))),this.state.tableData&&this.renderTable()))}}]),t}(c.Component),D=a(32),w=function(e,t){return function(a){function u(e){var a;return Object(n.a)(this,u),(a=Object(l.a)(this,Object(s.a)(u).call(this,e))).state={error:null},a.errorConfirmedHandler=function(){a.setState({error:null})},a.reqInterceptor=t.interceptors.request.use((function(e){return e.headers.Authorization="Bearer tTU3gFVUdP",a.setState({error:null}),e})),a.resInterceptor=t.interceptors.response.use((function(e){return e}),(function(e){a.setState({error:e})})),a}return Object(i.a)(u,a),Object(r.a)(u,[{key:"componentWillUnmount",value:function(){t.interceptors.request.eject(this.reqInterceptor),t.interceptors.request.eject(this.resInterceptor)}},{key:"render",value:function(){return o.a.createElement(c.Fragment,null,o.a.createElement(h,{show:this.state.error,modalClosed:this.errorConfirmedHandler},this.state.error?this.state.error.message:null),o.a.createElement(e,this.props))}}]),u}(c.Component)},S=a(29),k=a(15),N=a(87),C=a.n(N),T=function(){return o.a.createElement("div",{className:C.a.loader},"Loading...")},P=function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,i=new Array(r),c=0;c<r;c++)i[c]=arguments[c];return(a=Object(l.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(i)))).state={loading:!0},a}return Object(i.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.setState({loading:!this.props.deliveriesData}),this.props.deliveries(this.props.name,this.props.email)}},{key:"render",value:function(){return o.a.createElement(c.Fragment,null,o.a.createElement(h,{show:this.state.loading},o.a.createElement("h1",null,"hello")),this.props.deliveriesData.length?o.a.createElement(y,{deliveriesData:this.props.deliveriesData}):o.a.createElement(T,null))}}]),t}(c.Component);t.default=Object(k.b)((function(e){return{deliveriesData:e.deliveries.deliveriesData,name:e.login.name,email:e.login.email}}),(function(e){return{deliveries:function(t,a){return e(S.a(t,a))}}}))(w(P,D.a))}}]);
//# sourceMappingURL=3.6412e2e7.chunk.js.map